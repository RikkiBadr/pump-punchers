# Create an updated index.html with ring background (ring.png), centered logo (logo.png) as mat,
# and fighters layered above. Ensures arena does not extend under the leaderboard.
html = r"""<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pump Punchers (PPUNCH)</title>
  <style>
    :root{
      --panel-w: 25vw; /* width of leaderboard */
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Arial, Helvetica, sans-serif;
      background:#0f0f0f;
      color:#fff;
      overflow:hidden;
    }
    header{
      position:fixed;
      top:10px;left:12px;
      z-index:20;
      display:flex;align-items:center;gap:10px;
      text-shadow:0 2px 10px rgba(0,0,0,.6);
    }
    header img{height:56px}
    header h1{margin:0;font-size:22px}

    /* ARENA / RING AREA â€” never goes under the leaderboard */
    #ring{
      position:fixed;
      top:0;left:0;bottom:0;
      width:calc(100vw - var(--panel-w)); /* leaves space for leaderboard */
      overflow:hidden;
      display:flex;align-items:center;justify-content:center; /* centers the logo layer */
      background: #101010;
      /* Top-view ring image as the environment (outside ropes, apron etc.) */
      background-image: url('ring.png');
      background-repeat:no-repeat;
      background-position:center;
      background-size:contain; /* keep ring proportions */
    }

    /* Logo on the mat (centered, behind fighters) */
    #ring::before{
      content:"";
      position:absolute;
      inset:0;
      margin:auto;
      width:min(62%, 860px);  /* tune this to fit inside the ropes */
      height:min(62%, 860px);
      background: url('logo.png') center/contain no-repeat;
      opacity:.95;
      z-index:0; /* below fighters */
      pointer-events:none;
      filter: drop-shadow(0 6px 14px rgba(0,0,0,.25));
    }

    /* Leaderboard panel */
    #leaderboard{
      position:fixed;
      top:0;right:0;bottom:0;
      width:var(--panel-w);
      background:#000c;
      padding:18px 16px;
      border-left:1px solid #222;
      backdrop-filter: blur(2px);
      z-index:15;
    }
    #leaderboard h2{
      margin:6px 0 12px;
      text-align:center;
      border-bottom:2px solid gold;
      padding-bottom:6px;
    }
    #topList{list-style:none;padding:0;margin:0}
    #topList li{margin:10px 0}

    /* Fighters */
    .fighter{
      position:absolute;
      width:90px;height:140px;
      transform-origin:50% 100%;
      filter: drop-shadow(0 6px 8px rgba(0,0,0,.6));
      animation: idleBob 2.2s ease-in-out infinite;
      z-index:10; /* above logo */
    }
    .label{
      position:absolute;
      left:50%;top:-16px;transform:translateX(-50%);
      font-size:12px;background:rgba(0,0,0,.55);
      padding:2px 6px;border-radius:6px;border:1px solid #fff3;
      white-space:nowrap;
    }
    .punch{ animation: punchAnim .35s ease-in-out; }

    @keyframes idleBob{
      0%,100%{ transform: translateY(0) }
      50%{ transform: translateY(-6px) }
    }
    @keyframes punchAnim{
      0%{ transform: translateY(-6px) scale(1) rotate(0) }
      40%{ transform: translateY(-10px) scale(1.04) rotate(-2deg) }
      70%{ transform: translateY(-6px) scale(1) rotate(0) }
      100%{ transform: translateY(0) }
    }

    /* Helper buttons (for demo) */
    .controls{
      position:fixed;left:12px;bottom:12px;z-index:18;
      display:flex;gap:8px;flex-wrap:wrap
    }
    .btn{
      background:#161616;border:1px solid #2a2a2a;color:#fff;
      padding:8px 10px;border-radius:8px;cursor:pointer
    }
    .btn:hover{background:#1f1f1f}

    /* Mobile: narrower leaderboard */
    @media (max-width: 900px){
      :root{ --panel-w: 32vw; }
    }
    @media (max-width: 700px){
      :root{ --panel-w: 38vw; }
      header h1{font-size:18px}
      header img{height:44px}
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Pump Punchers Logo">
    <h1>Pump Punchers (PPUNCH)</h1>
  </header>

  <div id="ring"></div>

  <aside id="leaderboard">
    <h2>Top Holders</h2>
    <ol id="topList">
      <li>ðŸ¥‡ Wallet1...xyz â€” 100,000</li>
      <li>ðŸ¥ˆ Wallet2...abc â€” 85,000</li>
      <li>ðŸ¥‰ Wallet3...def â€” 70,000</li>
      <li>4. Wallet4...qwe â€” 50,000</li>
      <li>5. Wallet5...rty â€” 40,000</li>
    </ol>
  </aside>

  <div class="controls">
    <button class="btn" id="spawn">Spawn Demo Fighter</button>
    <button class="btn" id="spar">Make Them Spar</button>
  </div>

  <script>
    // SVG boxer factory
    function boxerSVG({shorts='#e11', gloves='#e11', skin='#f2c49b', accent='#fff'}){
      return `
      <svg width="90" height="120" viewBox="0 0 90 120" xmlns="http://www.w3.org/2000/svg">
        <ellipse cx="45" cy="114" rx="26" ry="6" fill="rgba(0,0,0,.35)"/>
        <rect x="33" y="46" width="24" height="34" rx="6" fill="${skin}" stroke="#000" stroke-opacity=".35"/>
        <rect x="30" y="72" width="30" height="20" rx="4" fill="${shorts}" stroke="#000" stroke-opacity=".35"/>
        <rect x="30" y="72" width="30" height="6" fill="${accent}" opacity=".2"/>
        <rect x="32" y="92" width="8" height="20" rx="4" fill="${skin}"/>
        <rect x="50" y="92" width="8" height="20" rx="4" fill="${skin}"/>
        <rect x="30" y="110" width="12" height="6" rx="2" fill="#333"/>
        <rect x="48" y="110" width="12" height="6" rx="2" fill="#333"/>
        <circle cx="45" cy="28" r="14" fill="${skin}" stroke="#000" stroke-opacity=".35"/>
        <path d="M36 30 q9 6 18 0" stroke="#000" stroke-opacity=".35" fill="none"/>
        <rect x="20" y="52" width="14" height="10" rx="4" fill="${skin}"/>
        <rect x="56" y="52" width="14" height="10" rx="4" fill="${skin}"/>
        <circle cx="18" cy="57" r="8" fill="${gloves}" stroke="#000" stroke-opacity=".4"/>
        <circle cx="72" cy="57" r="8" fill="${gloves}" stroke="#000" stroke-opacity=".4"/>
      </svg>`;
    }

    const ring = document.getElementById('ring');
    const ringRect = () => ring.getBoundingClientRect();

    const demoFighters = [
      { name: "Wallet1...xyz", color: "#e11", x: 140, y: 240 },
      { name: "Wallet2...abc", color: "#15f", x: 320, y: 260 },
      { name: "Wallet3...def", color: "#1a3", x: 520, y: 250 }
    ];

    function spawnFighter(f){
      const el = document.createElement('div');
      el.className = 'fighter';
      el.style.left = (f.x || 150) + 'px';
      el.style.top  = (f.y || 250) + 'px';
      el.innerHTML = boxerSVG({shorts:f.color, gloves:f.color});

      const label = document.createElement('div');
      label.className = 'label';
      label.textContent = f.name;
      el.appendChild(label);

      ring.appendChild(el);
      return el;
    }

    const fighterEls = demoFighters.map(spawnFighter);

function wander(el){
  const r = ringRect();
  // shrink the movement area (leave margin for ropes)
  const marginX = r.width * 0.12;  // 12% from left/right
  const marginY = r.height * 0.12; // 12% from top/bottom

  const maxX = r.width - marginX - 100;
  const maxY = r.height - marginY - 140;

  const nx = Math.max(marginX, Math.min(maxX, (parseInt(el.style.left)||0) + (Math.random()*120-60)));
  const ny = Math.max(marginY, Math.min(maxY, (parseInt(el.style.top)||0) + (Math.random()*80-40)));

  el.style.transition = 'transform .8s ease, left .8s ease, top .8s ease';
  el.style.left = nx + 'px';
  el.style.top  = ny + 'px';
}

    setInterval(()=> fighterEls.forEach(wander), 1600);

    function spar(){
      if (fighterEls.length < 2) return;
      const i = Math.floor(Math.random()*fighterEls.length);
      let j = Math.floor(Math.random()*fighterEls.length);
      if (j===i) j = (j+1)%fighterEls.length;
      const a = fighterEls[i], b = fighterEls[j];
      const ax = parseInt(a.style.left), ay = parseInt(a.style.top);
      const bx = parseInt(b.style.left), by = parseInt(b.style.top);
      const midx = (ax+bx)/2;
      const midy = (ay+by)/2;
      a.style.left = (midx-70) + 'px';
      b.style.left = (midx+10) + 'px';
      a.style.top  = (midy) + 'px';
      b.style.top  = (midy) + 'px';
      a.classList.add('punch'); b.classList.add('punch');
      setTimeout(()=>{ a.classList.remove('punch'); b.classList.remove('punch'); }, 380);
    }

    document.getElementById('spar').onclick = spar;
    document.getElementById('spawn').onclick = ()=>{
      const idx = fighterEls.length+1;
      const nf = spawnFighter({
        name:`Wallet${idx}...${Math.random().toString(36).slice(2,5)}`,
        color: ['#e11','#15f','#1a3','#fb0','#a0f','#0af'][idx%6],
        x: 120 + Math.random()* (ringRect().width-240),
        y: 200 + Math.random()* 120
      });
      fighterEls.push(nf);
    };

    window.addEventListener('resize', ()=> fighterEls.forEach(wander));
  </script>
</body>
</html>
"""
out = "/mnt/data/index_logo_on_ring_ready.html"
with open(out, "w", encoding="utf-8") as f:
    f.write(html)
out
